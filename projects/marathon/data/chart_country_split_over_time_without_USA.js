$(document).ready(function() {

	$("#chart_country_split_over_time_without_USA #placeholder").bind("plothover", function (event, pos, item) {
	$("#x").text(pos.x.toFixed(2));
	$("#y").text(pos.y.toFixed(2));
	if (item) {
	$("#charttooltip").remove();
	var x = item.datapoint[0];//.toFixed(2),
	y = item.datapoint[1];//.toFixed(2);
	
	var d = new Date(x).getFullYear();
	
	
	showChartTooltip(item.pageX, item.pageY, item.series.label + " had "+ y + " runners in " + d );
	} else {
	$("#charttooltip").remove();
	}
	});
	
	var chart_data = {"seriesData":[{"data":[[281232000000,7], [312768000000,10], [344390400000,1], [375926400000,303], [407462400000,441], [438998400000,686], [470620800000,770], [502156800000,723], [533692800000,1182], [565228800000,1603], [596851200000,2014], [628387200000,2334], [659923200000,2301], [691459200000,2247], [723081600000,2762], [754617600000,2928], [786153600000,2893], [817689600000,2318], [849312000000,2708], [880848000000,2562], [912384000000,2621], [943920000000,2839], [975542400000,2843], [1007078400000,1779], [1038614400000,2108], [1070150400000,2097], [1101772800000,2162], [1133308800000,2418], [1164844800000,2781], [1196380800000,2690], [1228003200000,2803], [1259539200000,2923], [1291075200000,3266], [1322611200000,3325], [1385769600000,3364]],"label":"France"}, {"data":[[281232000000,3], [312768000000,2], [375926400000,122], [407462400000,123], [438998400000,168], [470620800000,140], [502156800000,194], [533692800000,387], [565228800000,1005], [596851200000,943], [628387200000,1124], [659923200000,1509], [691459200000,1185], [723081600000,2410], [754617600000,823], [786153600000,906], [817689600000,961], [849312000000,1078], [880848000000,1398], [912384000000,1417], [943920000000,2090], [975542400000,1991], [1007078400000,965], [1038614400000,1126], [1070150400000,1418], [1101772800000,2196], [1133308800000,3034], [1164844800000,2813], [1196380800000,3150], [1228003200000,3180], [1259539200000,3100], [1291075200000,3565], [1322611200000,3402], [1385769600000,1845]],"label":"Italy"}, {"data":[[218160000000,1], [249696000000,2], [281232000000,7], [312768000000,41], [344390400000,3], [375926400000,339], [407462400000,440], [438998400000,682], [470620800000,735], [502156800000,628], [533692800000,709], [565228800000,678], [596851200000,765], [628387200000,705], [659923200000,789], [691459200000,714], [723081600000,828], [754617600000,792], [786153600000,875], [817689600000,797], [849312000000,984], [880848000000,1486], [912384000000,1849], [943920000000,2358], [975542400000,2256], [1007078400000,1965], [1038614400000,2667], [1070150400000,2516], [1101772800000,2649], [1133308800000,3081], [1164844800000,3349], [1196380800000,2927], [1228003200000,3041], [1259539200000,2385], [1291075200000,2224], [1322611200000,1940], [1385769600000,1552]],"label":"United Kingdom"}, {"data":[[249696000000,2], [312768000000,1], [375926400000,8], [438998400000,1], [470620800000,1], [659923200000,1079], [691459200000,1083], [723081600000,1355], [754617600000,1328], [786153600000,2105], [817689600000,1806], [849312000000,1556], [880848000000,1355], [912384000000,1361], [943920000000,1561], [975542400000,1599], [1007078400000,1055], [1038614400000,1310], [1070150400000,1331], [1101772800000,2157], [1133308800000,2324], [1164844800000,2510], [1196380800000,2526], [1228003200000,2573], [1259539200000,2303], [1291075200000,2162], [1322611200000,2111], [1385769600000,1931]],"label":"Germany"}, {"data":[[281232000000,2], [375926400000,13], [407462400000,52], [438998400000,201], [470620800000,102], [502156800000,169], [533692800000,354], [565228800000,346], [596851200000,501], [628387200000,700], [659923200000,899], [691459200000,839], [723081600000,945], [754617600000,664], [786153600000,1416], [817689600000,946], [849312000000,868], [880848000000,1151], [912384000000,1079], [943920000000,1303], [975542400000,1303], [1007078400000,993], [1038614400000,1066], [1070150400000,1066], [1101772800000,2073], [1133308800000,1841], [1164844800000,1619], [1196380800000,1690], [1228003200000,1688], [1259539200000,1662], [1291075200000,1481], [1322611200000,1668], [1385769600000,1601]],"label":"Netherlands"}, {"data":[[249696000000,4], [281232000000,26], [312768000000,36], [344390400000,3], [375926400000,124], [407462400000,149], [438998400000,157], [470620800000,274], [502156800000,275], [533692800000,472], [565228800000,395], [596851200000,417], [628387200000,507], [659923200000,609], [691459200000,683], [723081600000,715], [754617600000,625], [786153600000,608], [817689600000,534], [849312000000,651], [880848000000,799], [912384000000,729], [943920000000,722], [975542400000,519], [1007078400000,277], [1038614400000,529], [1070150400000,698], [1101772800000,890], [1133308800000,675], [1164844800000,690], [1196380800000,715], [1228003200000,952], [1259539200000,1209], [1291075200000,1391], [1322611200000,1296], [1385769600000,1492]],"label":"Canada"}, {"data":[[281232000000,1], [312768000000,6], [375926400000,61], [407462400000,81], [438998400000,109], [470620800000,275], [502156800000,255], [533692800000,326], [565228800000,599], [596851200000,385], [628387200000,592], [659923200000,467], [691459200000,411], [723081600000,452], [754617600000,391], [786153600000,916], [817689600000,226], [849312000000,316], [880848000000,408], [912384000000,404], [943920000000,718], [975542400000,542], [1007078400000,384], [1038614400000,400], [1070150400000,559], [1101772800000,536], [1133308800000,516], [1164844800000,486], [1196380800000,455], [1228003200000,470], [1259539200000,650], [1291075200000,781], [1322611200000,940], [1385769600000,886]],"label":"Mexico"}, {"data":[[281232000000,4], [312768000000,6], [375926400000,103], [407462400000,68], [438998400000,193], [470620800000,237], [502156800000,167], [533692800000,238], [565228800000,249], [596851200000,275], [628387200000,294], [659923200000,326], [691459200000,269], [723081600000,364], [754617600000,313], [786153600000,465], [817689600000,504], [849312000000,486], [880848000000,655], [912384000000,743], [943920000000,786], [975542400000,784], [1007078400000,429], [1038614400000,629], [1070150400000,455], [1101772800000,470], [1133308800000,522], [1164844800000,582], [1196380800000,642], [1228003200000,603], [1259539200000,750], [1291075200000,676], [1322611200000,668], [1385769600000,851]],"label":"Switzerland"}, {"data":[[281232000000,2], [312768000000,1], [344390400000,1], [375926400000,85], [407462400000,160], [438998400000,247], [470620800000,254], [502156800000,172], [533692800000,281], [565228800000,381], [596851200000,533], [628387200000,580], [659923200000,473], [691459200000,383], [723081600000,326], [754617600000,291], [786153600000,314], [817689600000,310], [849312000000,313], [880848000000,284], [912384000000,347], [943920000000,340], [975542400000,371], [1007078400000,183], [1038614400000,251], [1070150400000,269], [1101772800000,393], [1133308800000,403], [1164844800000,408], [1196380800000,427], [1228003200000,441], [1259539200000,499], [1291075200000,576], [1322611200000,666], [1385769600000,854]],"label":"Sweden"}, {"data":[[281232000000,2], [375926400000,9], [407462400000,14], [438998400000,50], [470620800000,58], [502156800000,69], [533692800000,110], [565228800000,131], [596851200000,224], [628387200000,289], [659923200000,240], [691459200000,233], [723081600000,271], [754617600000,289], [786153600000,351], [817689600000,325], [849312000000,309], [880848000000,369], [912384000000,342], [943920000000,427], [975542400000,478], [1007078400000,264], [1038614400000,533], [1070150400000,350], [1101772800000,495], [1133308800000,416], [1164844800000,371], [1196380800000,401], [1228003200000,362], [1259539200000,452], [1291075200000,631], [1322611200000,636], [1385769600000,672]],"label":"Japan"}], "topLabel":"Top 10 countries not including the United States", "yAxis":"Runners", "xAxis":"Year"};

	$("#chart_country_split_over_time_without_USA #top-label").html(chart_data.topLabel);
  
  	$("#chart_country_split_over_time_without_USA #x-axis-label").html(chart_data.xAxis);
	
	$("#chart_country_split_over_time_without_USA #y-axis-label").html(chart_data.yAxis);
	$("#chart_country_split_over_time_without_USA #y-axis-label").flipv_up();



	chart_style_options.xaxis.ticks = chart_data.xAxisTicksLabels;
	chart_style_options.colors =  ["#70B0FF", "#EB53F7"]; 
	chart_style_options.series.lines.fill=false;
	chart_style_options.series.lines.lineWidth=2;
	chart_style_options.legend.show=true;	
	chart_style_options.yaxis.min= null; // min. value to show, null means set automatically
	chart_style_options.legend.container = $("#chart_country_split_over_time_without_USA #legend-container");
	chart_style_options.xaxis.mode= "time";
	
	$.plot($("#chart_country_split_over_time_without_USA #placeholder"), chart_data.seriesData, chart_style_options);  
});
